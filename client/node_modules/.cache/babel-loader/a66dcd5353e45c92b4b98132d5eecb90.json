{"ast":null,"code":"var _jsxFileName = \"/Users/mikeagee/Dev/estimation-tool-react/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport EstimationBlock from \"./components/estimation-block/estimation-block.component\";\nimport \"./App.css\";\nimport \"./dashboard/dashboard.styles.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport EstimationNavigationBar from \"./components/navigation/vertical.nav.menu.component\";\nimport { CurrentEstimationTotalCost } from \"./context/currentEstimationTotal.context\";\nimport { NewEstimation } from './data/newEstimation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.getEstimations = async () => {\n      const response = await fetch('http://localhost:1020/express_backend');\n      const body = await response.json();\n\n      if (response.status !== 200) {\n        throw Error(body.message);\n      }\n\n      console.log(body, 'body');\n      return body;\n    };\n\n    this.getTotalCost = () => {\n      return this.state.totalCost;\n    };\n\n    this.updateName = newName => {\n      console.log('new name', newName);\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        searchField: e.target.value\n      });\n    };\n\n    this.searchEstimations = e => {\n      e.preventDefault();\n\n      if (this.state.estimations > 0) {\n        const {\n          estimations,\n          searchField\n        } = this.state;\n        console.log(searchField, 'searchField');\n        const filteredEstimations = estimations.filter(estimation => estimation.name.toLowerCase().includes(searchField.toLowerCase()));\n        this.setState({\n          estimations: filteredEstimations\n        });\n      }\n    };\n\n    this.addNewEstimation = async e => {\n      const {\n        estimations\n      } = this.state;\n      let newEstimation = { ...NewEstimation\n      };\n      newEstimation.id = estimations.length += 1;\n      newEstimation.name = this.state.searchField; // TODO: MOVE THIS TO AN API LAYER\n\n      const response = await fetch(\"http://localhost:3001/estimations\", {\n        method: \"POST\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        redirect: \"follow\",\n        referrerPolicy: \"no-referrer\",\n        body: JSON.stringify(newEstimation)\n      });\n      this.setState({ ...newEstimation\n      });\n    };\n\n    this.updateTotalCost = totalCost => {\n      console.log(totalCost, \"TOTALCOST\");\n    };\n\n    this.state = {\n      env: \"local\",\n      totalCost: 0,\n      updateName: this.updateName,\n      getTotalCost: this.getTotalCost,\n      updateTotalCost: this.updateTotalCost,\n      estimations: [{\n        name: \"No Project\",\n        id: 0,\n        views: [\"landing\"],\n        general_estimate_features: [\"geolocationn\"],\n        // platform_specific_features: [\"camera\"],\n        capabilities: [\"biometrics\"],\n        media: [\"Image Optimzation\"],\n        random: [{\n          ios: {\n            enabled: true,\n            hours: 20\n          }\n        }]\n      }],\n      searchField: \"\",\n      searchButtonTitle: \"Search\",\n      filteredEstimation: [],\n      newEstimation: {\n        name: '',\n        id: 0,\n        views: [\"landing\"],\n        general_estimate_features: [\"geolocationn\"],\n        // platform_specific_features: [\"camera\"],\n        capabilities: [\"biometrics\"],\n        media: [\"Image Optimzation\"]\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getEstimations().then(res => this.setState({\n      estimations: res.estimations\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      estimations,\n      searchField\n    } = this.state;\n    const filteredEstimations = estimations.filter(estimation => estimation.name.toLowerCase().includes(searchField.toLowerCase()));\n    return /*#__PURE__*/_jsxDEV(CurrentEstimationTotalCost.Provider, {\n      value: this.state,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(EstimationNavigationBar, {\n          estimationsCount: filteredEstimations.length,\n          searchHandler: this.handleChange,\n          handleSubmit: filteredEstimations.length > 0 ? this.searchEstimations : this.addNewEstimation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-container\",\n          children: /*#__PURE__*/_jsxDEV(EstimationBlock, {\n            className: \"dashboard-item\",\n            estimationsCount: filteredEstimations.length,\n            totalCost: this.state.totalCost,\n            updateTotalCost: this.updateTotalCost,\n            getTotalCost: this.getTotalCost,\n            updateName: this.updateName,\n            estimations: filteredEstimations.length > 0 ? filteredEstimations : this.state.estimations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/mikeagee/Dev/estimation-tool-react/client/src/App.js"],"names":["React","Component","EstimationBlock","EstimationNavigationBar","CurrentEstimationTotalCost","NewEstimation","App","constructor","getEstimations","response","fetch","body","json","status","Error","message","console","log","getTotalCost","state","totalCost","updateName","newName","handleChange","e","setState","searchField","target","value","searchEstimations","preventDefault","estimations","filteredEstimations","filter","estimation","name","toLowerCase","includes","addNewEstimation","newEstimation","id","length","method","mode","cache","credentials","headers","redirect","referrerPolicy","JSON","stringify","updateTotalCost","env","views","general_estimate_features","capabilities","media","random","ios","enabled","hours","searchButtonTitle","filteredEstimation","componentDidMount","then","res","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EstimationBlock from \"./components/estimation-block/estimation-block.component\";\nimport \"./App.css\";\nimport \"./dashboard/dashboard.styles.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport EstimationNavigationBar from \"./components/navigation/vertical.nav.menu.component\";\nimport { CurrentEstimationTotalCost } from \"./context/currentEstimationTotal.context\";\nimport { NewEstimation } from './data/newEstimation';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      env: \"local\",\n      totalCost: 0,\n      updateName: this.updateName,\n      getTotalCost: this.getTotalCost,\n      updateTotalCost: this.updateTotalCost,\n      estimations: [\n        {\n          name: \"No Project\",\n          id: 0,\n          views: [\"landing\"],\n          general_estimate_features: [\"geolocationn\"],\n          // platform_specific_features: [\"camera\"],\n          capabilities: [\"biometrics\"],\n          media: [\"Image Optimzation\"],\n          random: [\n            {\n              ios: {\n                enabled: true,\n                hours: 20,\n              },\n            },\n          ],\n        },\n      ],\n      searchField: \"\",\n      searchButtonTitle: \"Search\",\n      filteredEstimation: [],\n      newEstimation: {\n        name: '',\n        id: 0,\n        views: [\"landing\"],\n        general_estimate_features: [\"geolocationn\"],\n        // platform_specific_features: [\"camera\"],\n        capabilities: [\"biometrics\"],\n        media: [\"Image Optimzation\"],\n      },\n    };\n  }\n\n  componentDidMount() {\n\n    this.getEstimations()\n      .then(res => this.setState({ estimations: res.estimations }))\n      .catch(err => console.log(err));\n  }\n\n  getEstimations = async () => {\n    const response = await fetch('http://localhost:1020/express_backend');\n    const body = await response.json();\n\n    if (response.status !== 200) {\n      throw Error(body.message) \n    }\n    console.log(body, 'body')\n    return body;\n  };\n\n\n  // TODO: MOVE TO API LAYER\n  // getEstimations = async() => {\n  //   if (this.state.env === \"local\") {\n  //     await fetch(\"http://localhost:3001/estimations\")\n  //       .then((response) => response.json())\n  //       .then((estimations) => this.setState({ estimations: estimations }));\n  //   }\n  \n  //   if (this.state.env === \"amplify\") {\n  //     await fetch(\"estimation.json\")\n  //       .then((response) => response.json())\n  //       .then((estimations) =>\n  //         this.setState({ estimations: estimations.estimations })\n  //       );\n  //   }\n  // }\n\n  getTotalCost = () => {\n    return this.state.totalCost;\n  };\n\n  updateName = (newName) => {\n    console.log('new name', newName)\n  }\n\n  handleChange = (e) => {\n    this.setState({ searchField: e.target.value });\n  };\n  \n  searchEstimations = (e) => {\n    e.preventDefault();\n    if (this.state.estimations > 0) {\n      const { estimations, searchField } = this.state;\n      console.log(searchField, 'searchField');\n      const filteredEstimations = estimations.filter((estimation) =>\n      estimation.name.toLowerCase().includes(searchField.toLowerCase())\n      );\n      this.setState({ estimations: filteredEstimations });\n    }\n  };\n  \n  addNewEstimation = async (e) => {\n    const { estimations } = this.state;\n    \n    let newEstimation = {...NewEstimation}\n    newEstimation.id = estimations.length += 1\n    newEstimation.name = this.state.searchField\n\n    // TODO: MOVE THIS TO AN API LAYER\n    const response = await fetch(\"http://localhost:3001/estimations\", {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: JSON.stringify(newEstimation),\n    });\n\n    this.setState({\n      ...newEstimation\n    });\n  };\n\n  updateTotalCost = (totalCost) => {\n    console.log(totalCost, \"TOTALCOST\");\n  };\n\n  render() {\n    const { estimations, searchField } = this.state;\n    const filteredEstimations = estimations.filter((estimation) =>\n      estimation.name.toLowerCase().includes(searchField.toLowerCase())\n    );\n    return (\n      <CurrentEstimationTotalCost.Provider value={this.state}>\n        <div className=\"App\">\n          <EstimationNavigationBar\n            estimationsCount={filteredEstimations.length}\n            searchHandler={this.handleChange}\n            handleSubmit={\n              filteredEstimations.length > 0\n                ? this.searchEstimations\n                : this.addNewEstimation\n            }\n          />\n          <div className=\"dashboard-container\">\n            <EstimationBlock\n              className=\"dashboard-item\"\n              estimationsCount={filteredEstimations.length}\n              totalCost={this.state.totalCost}\n              updateTotalCost={this.updateTotalCost}\n              getTotalCost={this.getTotalCost}\n              updateName={this.updateName}\n              estimations={\n                filteredEstimations.length > 0\n                  ? filteredEstimations\n                  : this.state.estimations\n              }\n            ></EstimationBlock>\n          </div>\n        </div>\n      </CurrentEstimationTotalCost.Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}